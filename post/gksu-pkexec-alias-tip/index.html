<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="σε Ubuntu 20.04 LTS">
  <meta name="generator" content="Hugo 0.68.3" />

  <title>pkexec για σωστή χρήση root GUI &middot; NickTux</title>

    

  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/pure-min.css">

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-min.css">
  <!--<![endif]-->

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://nicktux.gr/css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://nicktux.gr/css/side-menu.css">
  <!--<![endif]-->

  <link rel="stylesheet" href="https://nicktux.gr/css/blackburn.css">
  <link rel="stylesheet" href="https://nicktux.gr/css/all.css">

  
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.9.0/css/all.css">

  
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

 
  

  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/androidstudio.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  
  <script>hljs.initHighlightingOnLoad();</script>
  

  <link rel="shortcut icon" href="https://nicktux.gr/img/favicon.ico" type="image/x-icon" />

  
  

</head>


<body>
<div id="layout">

  
<a href="#menu" id="menuLink" class="menu-link">
  
  <span></span>
</a>
<div id="menu">

  <a class="pure-menu-heading brand" href="https://nicktux.gr/">
  <img src="https://nicktux.gr/img/logo.png" width="35px">
</a>


  <div class="pure-menu">
    <ul class="pure-menu-list">
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://nicktux.gr/"><i class='fa fa-home fa-fw'></i>Home</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://nicktux.gr/topics/"><i class='fa fa-folder fa-fw'></i>Topics</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://nicktux.gr/tags/"><i class='fa fa-tags fa-fw'></i>Tags</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://nicktux.gr/post/"><i class='fa fa-list fa-fw'></i>Posts</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://nicktux.github.io/post/index.xml"><i class='fa fa-rss fa-fw'></i>RSS</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://nicktux.gr/about/"><i class='fa fa-user fa-fw'></i>About</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://nicktux.gr/contact/"><i class='fa fa-phone fa-fw'></i>Contact</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://nicktux.gr/my-pgp-key/"><i class='fa fa-key fa-fw'></i>OpenPGP Key</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://nicktux.com"><i class='fa fa-link fa-fw'></i>NickTux.com</a>
      
        </li>
      
    </ul>
  </div>

  <div class="pure-menu social">
  <ul class="pure-menu-list">

    
    <li class="pure-menu-item">
	    <a class="pure-menu-link" rel="me" href="https://mastodon.social/@nicktux" target="_blank"><i class="fab fa-mastodon fa-fw"></i>Mastodon</a>
    </li>
    

    
    <li class="pure-menu-item">
	    <a class="pure-menu-link" rel="me" href="https://mastodon.libretooth/@nicktux" target="_blank"><i class="fab fa-mastodon fa-fw"></i>Libretooth</a>
    </li>
    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://matrix.to/#/%23nicktux%3amatrix.org" target="_blank"><i class="far fa-comment-dots fa-fw"></i>Matrix</a>
    </li>
    

    
    <li class="pure-menu-item">
	    <a class="pure-menu-link" href="https://keybase.io/nicktux" target="_blank"><i class="fa fa-key fa-fw"></i>Keybase</a>
    </li>
    

    

    


    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://t.me/NickTuxGR" target="_blank"><i class="fab fa-telegram fa-tm"></i>Telegram</a>
    </li>
 
    

  </ul>
</div>


  <div>
  <div class="small-print">
	  <small><br><br><br>Copyleft (ɔ) 2021<br> No rights reserved</small>
  </div>
  <div class="small-print">
	  <small>Built with<a href="https://gohugo.io/" target="_blank">Hugo</a></small>
  </div>
</div>

</div>


  <div id="main">


<div class="header">
  <h1>pkexec για σωστή χρήση root GUI</h1>
  <h2>σε Ubuntu 20.04 LTS</h2>
</div>
<div class="content">

  <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>27 May 2020</time>
  </div>

  

  
  
  
  <div>
    <i class="fa fa-folder fa-fw"></i>
    
      <a class="post-taxonomy-topic" href="https://nicktux.gr/topics/ubuntu">Ubuntu</a>&nbsp;&#47;
    
      <a class="post-taxonomy-topic" href="https://nicktux.gr/topics/linux">Linux</a>
    
  </div>
  
  

  
  
  
  <div>
    <i class="fa fa-tags fa-fw"></i>
    
      <a class="post-taxonomy-tag" href="https://nicktux.gr/tags/desktop">Desktop</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="https://nicktux.gr/tags/gksu">gksu</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="https://nicktux.gr/tags/pkexec">pkexec</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="https://nicktux.gr/tags/tips">tips</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="https://nicktux.gr/tags/ubuntu-20.04">Ubuntu 20.04</a>
    
  </div>
  
  

</div>

  <p>Πρόσφατα χρειάστηκε να τρέξω μια γραφική εφαρμογή ως root και βρέθηκα μπροστά
σε ένα ερώτημα. Πως;</p>
<p>Αν και <strong>δεν συνίσταται</strong> να τρέχουμε γραφικές εφαμογές ως root, μερικές φορές
αυτό το απαιτεί η ίδια η εφαρμογή. πχ. gparted.<br>
Ο τρόπος με τον οποίο παλιότερα, αν θυμάμαι καλά μέχρι και τη 16.04 αν και δεν
έχει σημασία, τρέχαμε τέτοιες εφαρμογές ήταν μέσω της εντολής <em>gksu</em> η οποία
διαχειριζόταν τις μεταβλητές περιβάλλοντος με τέτοιο τρόπο ώστε να μη δημιουργηθεί
κάποιο πρόβλημα στην εφαρμογή.<br>
Γενικά αποφεύγουμε να τρέχουμε γραφικές εφαρμογές ως root και αν αυτό πρέπει
να γίνει, ας γίνει με το σωστό τρόπο.</p>
<p>Ο <strong>σωστός</strong> τρόπος <strong>δεν είναι</strong></p>
<pre><code>sudo εφαρμογή
</code></pre><p>Ακόμη και η</p>
<pre><code>sudo -H εφαρμογή
</code></pre><p>κάποιες φορές δε λειτουργεί σωστά.<br></p>
<p>Η gksu έχει αντικατασταθεί πλέον από την pkexec. Ωστόσο τρέχοντας</p>
<pre><code>pkexec εφαρμογή
</code></pre><p>βρίσκομαι αντιμέτωπος με ένα μήνυμα λάθους. Ανοίγει ναι μεν το παράθυρο για να
εισάγω τον κωδικό, αλλά η εφαρμογή δεν τρέχει.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">DISPLAY is not set, unable to open the VMware Workstation user interface.
</code></pre></div><p><em>Ναι, στη δική μου περίπτωση ήταν το VMware γιατί ήθελα να αλλάξω κάποιες
ρυθμίσεις στη μνήμη και αυτές μπορείς να τις πειράξεις μόνο αν τρέχεις το VMware
ως Administrator, όπως χαρακτηριστικά αναφέρει.</em></p>
<h3 id="λύση">Λύση</h3>
<p>Ένα alias, έτσι για να θυμηθούμε και τα παλιά, στο <code>~/.bashrc</code> έδωσε τη λύση.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">alias gksu<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;pkexec env DISPLAY=$DISPLAY XAUTHORITY=$XAUTHORITY&#39;</span>
</code></pre></div><p>Άλλωστε, είναι η συμπεριφορά της pkexec τέτοια. Το γράφουν οι άνθρωποι, αλλά
ποιος τα διαβάζει αυτά.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">man pkexec

<span style="color:#f92672">[</span>...<span style="color:#f92672">]</span> pkexec will not allow you to run X11 applications
       as another user since the $DISPLAY and $XAUTHORITY environment
       variables are not set.<span style="color:#f92672">[</span>...<span style="color:#f92672">]</span>
</code></pre></div><hr />
<span style="font-size:small;color:#999999;">Until next time ...
"Keep Your Mind in a Constant State of Openness"</span>

  
<div class="prev-next-post pure-g">
  <div class="pure-u-1-24" style="text-align: left;">
    
    <a href="https://nicktux.gr/post/ssh-keys-different-github-accounts-same-pc/"><i class="fa fa-chevron-left"></i></a>
    
  </div>
  <div class="pure-u-10-24">
    
    <nav class="prev">
      <a href="https://nicktux.gr/post/ssh-keys-different-github-accounts-same-pc/">Πολλαπλά κλειδιά ssh και διαφορετικοί λογαριασμοί Github</a>
    </nav>
    
  </div>
  <div class="pure-u-2-24">
    &nbsp;
  </div>
  <div class="pure-u-10-24">
    
    <nav class="next">
      <a href="https://nicktux.gr/post/g213colors/">Φωτιζόμενο πληκτρολόγιο Logitech G213</a>
    </nav>
    
  </div>
  <div class="pure-u-1-24" style="text-align: right;">
    
    <a href="https://nicktux.gr/post/g213colors/"><i class="fa fa-chevron-right"></i></a>
    
  </div>
</div>



  
</div>

</div>
</div>
<script src="https://nicktux.gr/js/ui.js"></script>


</body>
</html>

