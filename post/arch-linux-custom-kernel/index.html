<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="generator" content="Hugo 0.68.3" />

  <title>Arch Linux - Χτίσιμο και εγκατάσταση custom πυρήνα(ABS) &middot; NickTux</title>

    

  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/pure-min.css">

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-min.css">
  <!--<![endif]-->

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://nicktux.gr/css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://nicktux.gr/css/side-menu.css">
  <!--<![endif]-->

  <link rel="stylesheet" href="https://nicktux.gr/css/blackburn.css">
  <link rel="stylesheet" href="https://nicktux.gr/css/all.css">

  
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.9.0/css/all.css">

  
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

 
  

  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/androidstudio.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  
  <script>hljs.initHighlightingOnLoad();</script>
  

  <link rel="shortcut icon" href="https://nicktux.gr/img/favicon.ico" type="image/x-icon" />

  
  

</head>


<body>
<div id="layout">

  
<a href="#menu" id="menuLink" class="menu-link">
  
  <span></span>
</a>
<div id="menu">

  <a class="pure-menu-heading brand" href="https://nicktux.gr/">
  <img src="https://nicktux.gr/img/logo.png" width="35px">
</a>


  <div class="pure-menu">
    <ul class="pure-menu-list">
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://nicktux.gr/"><i class='fa fa-home fa-fw'></i>Home</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://nicktux.gr/topics/"><i class='fa fa-folder fa-fw'></i>Topics</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://nicktux.gr/tags/"><i class='fa fa-tags fa-fw'></i>Tags</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://nicktux.gr/post/"><i class='fa fa-list fa-fw'></i>Posts</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://nicktux.github.io/post/index.xml"><i class='fa fa-rss fa-fw'></i>RSS</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://nicktux.gr/about/"><i class='fa fa-user fa-fw'></i>About</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://nicktux.gr/contact/"><i class='fa fa-phone fa-fw'></i>Contact</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://nicktux.gr/my-pgp-key/"><i class='fa fa-key fa-fw'></i>OpenPGP Key</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://nicktux.com"><i class='fa fa-link fa-fw'></i>NickTux.com</a>
      
        </li>
      
    </ul>
  </div>

  <div class="pure-menu social">
  <ul class="pure-menu-list">

    
    <li class="pure-menu-item">
	    <a class="pure-menu-link" href="https://mastodon.host/@nicktux" target="_blank"><i class="fab fa-mastodon fa-fw"></i>Mastodon</a>
    </li>
    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://riot.im/app/#/room/%21odbGSkGflbUeVichhw%3amatrix.org" target="_blank"><i class="far fa-comment-dots fa-fw"></i>Matrix</a>
    </li>
    

    
    <li class="pure-menu-item">
	    <a class="pure-menu-link" href="https://keybase.io/nicktux" target="_blank"><i class="fa fa-key fa-fw"></i>Keybase</a>
    </li>
    

    
    <li class="pure-menu-item">
	    <a class="pure-menu-link" href="https://librenet.gr/people/9cf6700052fd01321c2d515647245e7c" target="_blank"><i class="fab fa-diaspora fa-fw"></i>Diaspora</a>
    </li>
    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://twitter.com/nicktuxcom" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
    </li>
    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://facebook.com/nicktuxcom" target="_blank"><i class="fab fa-facebook fa-fw"></i>Facebook</a>
    </li>
    

  </ul>
</div>


  <div>
  <div class="small-print">
    <small>Copyleft (ɔ) 2020.<br> No rights reserved.</small>
  </div>
  <div class="small-print">
    <small>Built with&nbsp;<a href="https://gohugo.io/" target="_blank">Hugo</a></small>
  </div>
</div>

</div>


  <div id="main">


<div class="header">
  <h1>Arch Linux - Χτίσιμο και εγκατάσταση custom πυρήνα(ABS)</h1>
  <h2></h2>
</div>
<div class="content">

  <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>14 Dec 2013</time>
  </div>

  

  
  
  
  <div>
    <i class="fa fa-folder fa-fw"></i>
    
      <a class="post-taxonomy-topic" href="https://nicktux.gr/topics/linux">Linux</a>
    
  </div>
  
  

  
  
  
  <div>
    <i class="fa fa-tags fa-fw"></i>
    
      <a class="post-taxonomy-tag" href="https://nicktux.gr/tags/arch-linux">Arch Linux</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="https://nicktux.gr/tags/custom-kernel">Custom Kernel</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="https://nicktux.gr/tags/over_a_year_old">over_a_year_old</a>
    
  </div>
  
  

</div>

  <pre style="width:100%;padding:2px;background:#f51f20;text-align:center;color:#ffffff;font-family:'Ubuntu';font-style:normal;font-size:medium;">ΑΥΤΗ Η ΔΗΜΟΣΙΕΥΣΗ ΕΧΕΙ ΓΙΝΕΙ ΠΑΝΩ ΑΠΟ ΕΝΑ ΧΡΟΝΟ ΠΡΙΝ!</pre>
<p>Τώρα λογικά θα περιμένετε ένα τεράστιο ποστ με πολύ configuration και διάφορες εντολές, όσοι τουλάχιστον έχετε στο παρελθόν κάποια εμπειρία με χτίσιμο πυρήνα.</p>
<p>Δεν θα επεκταθώ εδώ στο γιατί να χτίσουμε έναν δικό μας πυρήνα, το μόνο που θα πω είναι πως δεν έχουμε να χάσουμε κάτι αν το δοκιμάσουμε.</p>
<p>Σε αυτό το άρθρο θα δούμε τον Arch τρόπο χτισίματος(ABS=Archlinux Build System) ενός custom πυρήνα. Είναι τόσο εύκολο που ακόμη και νέοι arch χρήστες μπορούν να δοκιμάσουν.
Σημειώστε εδώ πως ένας νέος archlinux χρήστης δεν είναι ο ίδιος χρήστης με έναν αρχάριο χρήστη Linux. Αν έχετε εγκαταστήσει και δουλεύετε archlinux δεν θεωρείστε πλέον αρχάριος στο Linux γενικότερα.
Αρχάριος στο archlinux ίσως, μιας και πρέπει να μάθετε τον λεγόμενο και arch way καθώς και κάποιες έννοιες - ή/και φιλοσοφίες - που άλλα Linux λειτουργικά συστήματα που πιθανών χρησιμοποιούσατε στο παρελθόν, είτε τις κρύβουν (χάριν του user-friendly) , είτε δεν τις ακολουθούν καν. Άλλωστε «το archlinux απευθύνεται σε ικανούς χρήστες του GNU/Linux» (έτσι τουλάχιστον όπως το γράφει και το ArchWiki).</p>
<p>Ας ανοίξουμε ένα τερματικό λοιπόν και ας ξεκινήσουμε.</p>
<h2>Εγκατάσταση απαραίτητων πακέτων</h2> 
<pre><code>pacman -S abs base-devel
</code></pre><h2>Πηγαίος κώδικας</h2> 
<p>Ο πηγαίος κώδικας του πυρήνα φιλοξενείται στα αποθετήρια του Archlinux καθώς και στο Official αποθετήριο του Linus Torvalds (git). Για να πάρετε τον πηγαίο κώδικα χρησιμοποιώντας το ABS, δώστε την παρακάτω εντολή</p>
<pre><code>ABSROOT=. abs core/linux
</code></pre><p>Αυτό θα δημιουργήσει έναν φάκελο core μέσα στον οποίο θα υπάρχει άλλος ένας φάκελος ονόματι linux. Εκεί θα υπάρχουν κάποια patches (που κάνει apply το arch στον πυρήνα), καθώς και ο γνήσιος πηγαίος κώδικας του πυρήνα. Φυσικά και το λεγόμενο PKGBUILD. Εκεί μέσα γίνονται όλα, άλλωστε.</p>
<h2>Ρυθμίσεις - Configuration</h2>
<p>Ότι αλλαγές θέλετε να κάνετε, είτε να κάνετε apply κάποια δικά σας patches, είτε να αλλάξετε το configuration του πυρήνα, μπορείτε να το κάνετε μέσω του PKGBUILD. Δείτε το αρχείο πως είναι κατασκευασμένο και θα καταλάβετε τι πρέπει να κάνετε.
Μην ξεχάσετε να κάνετε uncomment το κατάλληλο pkgbase, έτσι ώστε να χτίσετε έναν πυρήνα με διαφορετικό όνομα από τον Official.</p>
<p><strong>TIP:</strong> Αν αλλάξετε το source, για να κάνετε π.χ apply κάποιο patch , μην ξεχάσετε να εκτελέσετε την εντολή</p>
<pre><code>makepkg -g
</code></pre><p>έτσι ώστε να παραχθεί το νέο md5sum.</p>
<p>Αν θέλετε να κάνετε edit στον ίδιο τον πυρήνα, κάντε Uncomment όποιο από τα εργαλεία configuration θέλετε (προτείνω nconfig).</p>
<h3>localmodconfig</h3>
<p>Το localmodconfig μπορούμε να το χρησιμοποιήσουμε αν θέλουμε να χτίσουμε έναν πυρήνα μόνον για τον υπολογιστή μας. Αυτό που μας εξασφαλίζει το localmodconfig είναι το αρκετά γρήγορο χτίσιμο του πυρήνα. Ενδεικτικά θα αναφέρω πως στο δικό μου laptop το χτίσιμο του πυρήνα διήρκεσε 8 λεπτά σε HDD δίσκο και με Intel core i3 πρώτης γενιάς.
Αυτό που σε γενικές γραμμές κάνει το localmodconfig είναι να χτίζει τα modules στον πυρήνα, μόνον εκείνα που είναι εκείνη την στιγμή φορτωμένα στο λειτουργικό σύστημα.
Όπως προτείνει και το Arch Wiki, θα προτείνω κι εγώ, πριν κάνετε localmodconfig να φροντίσετε για τα παρακάτω.</p>
<ol>
<li>Να έχετε συνδέσει όλες σας τις συσκευές τις οποίες θα χρησιμοποιήσετε στον συγκεκριμένο υπολογιστή (π.χ usb sticks, εξωτερικούς δίσκους, εξωτερικές κάμερες..)</li>
<li>Φορτώστε ότι προγράμματα θέλετε, τα οποία απαιτούν να φορτωθεί κάποιο module για να λειτουργήσουν σωστά.</li>
<li>Κάντε mount αν έχετε κάποιο iso image ή κάποιο σύστημα αρχείων που απαιτεί κάποιο module για να δουλέψει σωστά.</li>
</ol>
<p>Στο archlinux τα πράγματα είναι ακόμη πιο απλά αν χρησιμοποιήσετε ένα εργαλείο ονόματι modprobed-db. Όπως και από το όνομα θα καταλάβατε πρόκειται για ένα εργαλείο που δημιουργεί μια βάση δεδομένων όλων των modules που έχουν φορτωθεί στον υπολογιστή σας. Με την κατάλληλη εντολή μπορείτε να φορτώσετε(recall) αυτά τα modules, χωρίς να χρειάζεται να συνδέετε κάθε φορά όλες τις συσκευές. Δείτε περισσότερα στο <a href="https://wiki.archlinux.org/index.php/Modprobed-db" target="_blank">arch wiki</a></p>
<h2>Εγκατάσταση πυρήνα</h2>
<p>Αφού τελειώσει η διαδικασία χτισίματος, μπορούμε να εγκαταστήσουμε τον πυρήνα με την γνωστή εντολή</p>
<pre><code>pacman -U όνομα πυρήνα όνομα headers πυρήνα
</code></pre><p>Μην ξεχάσετε να επεξεργαστείτε κατάλληλα τον bootloader που έχετε, έτσι ώστε να κάνετε boot από τον πυρήνα που μόλις χτίσατε για να δείτε αν δουλεύει όπως θα περιμένετε.</p>
<p>Αυτά τα ολίγα και απλά.
Καλά χτισίματα.</p>
<hr>
<p><span style="font-size:small;color:#999999;">Until next time &hellip;<br>
&ldquo;Keep Your Mind in a Constant State of Openness&quot;</span></p>

  
<div class="prev-next-post pure-g">
  <div class="pure-u-1-24" style="text-align: left;">
    
    <a href="https://nicktux.gr/post/arch-wiki-greek-team/"><i class="fa fa-chevron-left"></i></a>
    
  </div>
  <div class="pure-u-10-24">
    
    <nav class="prev">
      <a href="https://nicktux.gr/post/arch-wiki-greek-team/">ArchWiki Translation Team (Ελληνικά)</a>
    </nav>
    
  </div>
  <div class="pure-u-2-24">
    &nbsp;
  </div>
  <div class="pure-u-10-24">
    
    <nav class="next">
      <a href="https://nicktux.gr/post/nextcloud-apps-deck/">Nextcloud Apps Deck</a>
    </nav>
    
  </div>
  <div class="pure-u-1-24" style="text-align: right;">
    
    <a href="https://nicktux.gr/post/nextcloud-apps-deck/"><i class="fa fa-chevron-right"></i></a>
    
  </div>
</div>



  
</div>

</div>
</div>
<script src="https://nicktux.gr/js/ui.js"></script>


</body>
</html>

